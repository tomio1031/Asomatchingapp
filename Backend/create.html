<!DOCTYPE html>
<html>
<head>
    <title>Create User</title>
</head>
<body>
    <form id="userForm">
        <input type="text" id="studentId" placeholder="学籍番号">
        <input type="text" id="name" placeholder="名前">
        <input type="number" id="age" placeholder="年齢">
        <input type="text" id="gender" placeholder="性別">
        <input type="password" id="password" placeholder="パスワード">
        <input type="text" id="hobby_id" placeholder="趣味ID">
        <button type="button" onclick="submitForm()">Submit</button>
    </form>

    <script>
        try {
        async function submitForm() {
            let studentId = document.getElementById('studentId').value;
            let name = document.getElementById('name').value;
            let age = parseInt(document.getElementById('age').value, 10);
            let gender = document.getElementById('gender').value;
            let password = document.getElementById('password').value;
            let hobby_id = document.getElementById('hobby_id').value;
            
            let data = {
                studentId: studentId,
                name: name,
                age: age,
                gender: gender,
                password: password,
                hobby_id: hobby_id
            };

            let response = await fetch('http://localhost:8080/create', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });

            let result = await response.json();
            console.log(result);
        }
    } catch (err) {
        console.error("Error occurred:", err);
    }
    </script>
</body>
</html>
